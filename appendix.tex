\appendix
\section{Results for the proof of Proposition~\ref{prop:DenoOpe}}\label{app:proofs}

\blem\label{lem:pref}
  Given $P\in\fodaPAp$ and $\feature{A}\in\calF$,
  then $(pr,p)\in\prodp(\feature{A};P)$ if and only if
  $$p=\sum\lbag r\ |\ (pr',r)\in\prodp(P) \y pr'\cup\{\feature{A}\} = pr\rbag$$
\begin{proof}
  The other transition of $\feature{A};P$ is
  $\feature{A};P\tranp{\feature{A}}{1}Q$.  Then
  $\feature{A};P\vtranp{s}{p}P$ if and only if
  \begin{displaymath}
    \feature{A};P\tranp{\feature{A}}{1}P\vtranp{s}{p}Q\quad\y\quad s=\feature{A}\cdot s'
  \end{displaymath}
  then
  \begin{equation*}
    \begin{split}
      p = \sum\lbag r \ |\ \feature{A};P\vtranp{s\checkmark}{p} \nil \y \product{s}=pr \ \rbag =\\
      \sum\lbag r\ |\ \feature{A};P\tranp{\feature{A}}{1}P\vtranp{s'\checkmark}{r}\nil\y \product{\feature{A}\cdot s'}=pr\rbag\\
      \sum\lbag r\ |\ P\vtranp{s'\checkmark}{r}\nil\y \{\feature{A}\}\cup \product{s'}=pr\rbag\\
      \sum\lbag r\ |\ (pr',r)\in\prodp(P)\y \{\feature{A}\}\cup
      pr'=pr\rbag
    \end{split}
  \end{equation*}
\end{proof}
\elem

\blem\label{lem:prefopt}
  Given $P\in\fodaPAp$, $\feature{A}\in\calF$ and $q\in (0,1)$,
  then $(pr,p)\in\prodp(\ofeature{A};_qP)$ if and only if $(pr,p)=(\emptyset,1-q)$ or
  $$p=q\cdot \sum\{r\ |\ (pr',r)\in\prodp(P) \y pr'\cup\{\feature{A}\} = pr\}$$
  \bprf
    There exist two transitions to $\ofeature{A};_qP$: $\ofeature{A};_qP\tranp{\feature{A}}{q} P$ and
     $\ofeature{A};_qP\tranp{\checkmark}{1-q}\nil$. So forth if $\ofeature{A};_qP\vtranp{s}{r}Q$ then
     \begin{itemize}
     \item $s=\checkmark$ y $r=1-q$, o
     \item $s=\feature{A}\cdot s'$, $P\vtranp{s}{r'}Q$, y $r=q\cdot r'$.
     \end{itemize}
     So, if $pr=\product{\feature{A}\cdot s'}$ then
     $pr\neq\emptyset$. So then
     $(\emptyset,1-q)\in\prodp(\ofeature{A};_qP)$. Now suppose
     $pr\neq\emptyset$, then $(pr,p)\in\prodp(\ofeature{A};_qP)$ if and only if
     \begin{equation*}
       \begin{split}
         d = \sum\lbag r\ |\ \ofeature{A};_qP\vtran{s\checkmark}\nil\y \product{s}=pr\rbag=\\
         \sum\lbag r\ |\ \ofeature{A};_qP\tranp{\feature{A}}{q}P\vtranp{s'\checkmark}{r'}\nil\y \product{\feature{A}\cdot s'}=pr\y r=q\cdot r'\rbag=\\
         \sum\lbag r\ |\ P\vtranp{s'\checkmark}{r'}\nil\y \{\feature{A}\}\cup\product{s'}=pr\y r=q\cdot r'\rbag=\\
         \sum\lbag r\ |\ (pr',r')\in\prodp(P)\y \{\feature{A}\}\cup pr'=pr\y r=q\cdot r'\rbag=\\
         q\cdot\sum\lbag r'\ |\ (pr',r')\in\prodp(P)\y \{\feature{A}\}\cup pr'=pr\rbag
       \end{split}
     \end{equation*}
  \eprf
\elem


\blem\label{lem:choice1}
 Given $P,Q\in\fodaPAp$ and $q\in (0,1)$, then
 $P\choice_q Q\vtranp{s}{r} R$ if and only if
 \begin{itemize}
 \item $P\vtranp{s}{r'} R$ y $r=q\cdot r'$, o
 \item $Q\vtranp{s}{r'} R$ y $r=(1-q)\cdot r'$
 \end{itemize}
 \bprf
   This lemma is a consequence of rules~\nombreRegla{cho1} y~\nombreRegla{cho2} from the operational semantics.
 \eprf
\elem

\blem\label{lem:choice}
  Given $P,Q\in\fodaPAp$ and $q\in (0,1)$, then
  $(pr,p)\in\prodp(P\choice_q Q)$ if and only if
  \begin{equation*}
    \begin{split}
      p = \left(q\cdot\sum\{r\ |\ (pr,r)\in\prodp(P) \}\right) +
      \left((1-q)\cdot\sum\{r\ |\ (pr,r)\in\prodp(Q)\}\right)
    \end{split}
  \end{equation*}
  \begin{proof}
    $(pr,p)\in\prodp(P\choice_q Q)$ if and only if
    \begin{equation*}
      \begin{split}
        p = \sum\lbag  r\ |\ P\choice_q Q\vtran{s\checkmark}_{r}\nil\rbag=\\
        \sum\lbag r\ |\ (P\vtran{s\checkmark}_{r'}\nil\y r=q\cdot
        r')\o (Q\vtran{s\checkmark}_{r'}\nil\y r=(1-q)\cdot r')
        \rbag=\\
        \sum\lbag r\ |\ P\vtran{s\checkmark}_{r'}\nil\y r=q\cdot
        r'\rbag +
        \sum\lbag  r\ |\ Q\vtran{s\checkmark}_{r'}\nil\y r=(1-q)\cdot r' \rbag=\\
        q\cdot\sum\lbag r\ |\ P\vtran{s\checkmark}_{r}\nil\rbag +
        (1-q)\cdot\sum\lbag  r\ |\ Q\vtran{s\checkmark}_{r}\nil\rbag=\\
        q\cdot\sum\lbag r\ |\ (pr,r)\in\prodp(P)\rbag +
        (1-q)\cdot\sum\lbag r\ |\ (pr,r)\in\prodp(Q)\rbag
      \end{split}
    \end{equation*}
  \end{proof}
\elem


\bdfn
  Given the traces $s,s'\in\calF^*$, we denote the set of traces
  obtained from alternate $s$ and $s'$ por $\inter(s,s')$.
\edfn

\blem\label{lem:paral}
  Given the terms $P,Q\in\fodaPAp$, the probabilities $p,q\in (0,1)$ and the
  traces $s,s'\in\calF^*$
  such $p=\sum\lbag p'\ |\ P\vtranp{s\checkmark}{p'}\nil\rbag$ and
  $q=\sum\lbag q'\| |\ Q\vtranp{s'}{q'}\nil\rbag$
  then
  $$p\cdot q = \sum\lbag r\ |\ P\paral Q\vtranp{s''\checkmark}{r}\nil\y s''\in\inter(s,s)\rbag$$
  \begin{proof}
    By induction of $|s|+|s'|$.
    \begin{description}
    \item[$|s|+|s'|=0$] Since
      $P\paral Q\tranp{\checkmark}{r}\nil$
      if and only if $P\tranp{\checkmark}{r_1}\nil$,
      $Q\tranp{\checkmark}{r_2}\nil$, y $r=r_1\cdot r_2$,
      behold the following:
      \begin{equation}
        \label{eq:paral1}
        \begin{split}
          \sum \lbag r\ |\ P\paral Q\tranp{\checkmark}{r}\nil \rbag =\\
          \sum \lbag r\ |\ P\tranp{\checkmark}{r_1}\nil\y Q\tranp{\checkmark}{r_2}\nil\y r=r_1\cdot r_2 \rbag=\\
          \sum \lbag  r_1\cdot r_2 \ |\ P\tranp{\checkmark}{r_1}\nil\y Q\tranp{\checkmark}{r_2}\nil \rbag= \\
          \sum \scaleleftright{\lbag}{r_1 \cdot \left(\sum \lbag r_2\ |\ Q\tranp{\checkmark}{r_2}\nil \rbag\right)\ \vstretch{2}{|}\  P\tranp{\checkmark}{r_1}\nil}{\rbag} = \\
          \sum \lbag  r_1 \cdot q |\  P\tranp{\checkmark}{r_1}\nil\rbag = q\cdot \sum \lbag  r_1  |\  P\tranp{\checkmark}{r_1}\nil\rbag = q\cdot p
        \end{split}
      \end{equation}
    \item[$|s|+|s'|>0$] Suppose that $|s|>0$ (in the case $|s'|>0$
      is symmetric). Let's consider that $s=\feature{A}\cdot s_1$.
      Now consider the multiset
      $\calP=\lbag P'\ |\ P\tranp{\f{A}}{r'} P'\vtranp{s_1\checkmark}{p'}\nil\rbag$ and given $r_1 = \sum\lbag r\ |\ P\tranp{\f{A}}{r} P'\y P'\in\calP\rbag$ and
      $p_1=\sum\lbag r\ |\ P'\vtranp{s_1\checkmark}{r}\nil\y P'\in\calP\rbag$. It easy to verify that $p=r_1\cdot p_1$:
      \begin{equation}
        \label{eq:paral2}
        \begin{split}
          p = \sum\lbag  r\ |\ P\vtranp{s\checkmark}{r}\nil \rbag =  \\
          \sum\lbag  r'\cdot p'\ |\  P\tranp{\f{A}}{r'} P'\vtranp{s_1\checkmark}{p'}\nil \rbag =\\
          \sum\scaleleftright{\lbag}{r'\cdot\underbrace{\left(\sum\lbag p'\ |\ P'\vtranp{s_1\checkmark}{p'}\nil\rbag\right)}_{p_1}\ \vstretch{2}{|}\  P\tranp{\f{A}}{r'} P'\y P'\in\calP}{\rbag} =\\
          p_1\cdot\sum\lbag  r'\ |\  P\tranp{\f{A}}{r'} P'\y P'\in\calP \rbag = r_1\cdot p_1
        \end{split}
      \end{equation}
      For any $P'\in\calP$, and then for the inductive hypothesis we obtain
      $$
      p'\cdot q =\sum\lbag r\ |\ P'\paral Q\vtranp{s''\checkmark}{r}\y s''\in\inter(s_1,s')\rbag
      $$
      So forth
      \begin{equation}
        \label{eq:paral3}
        \begin{split}
          \sum\lbag r\ |\ P'\in\calP \y P'\paral Q\vtranp{s''\checkmark}{r}\y s''\in\inter(s_1,s')\rbag = \\
          \sum\lbag p'\cdot q\ |\  P'\in\calP\y P'\vtranp{s_1\checkmark}{p'}\nil\y s''\in\inter(s_1,s')\rbag\\
          q\cdot \sum\lbag r\ |\ P'\vtranp{s_1\checkmark}\nil\y P'\in\calP\rbag=p_1\cdot q
        \end{split}
      \end{equation}
      then for any $P'\in\calP$ we obtain $P\paral Q\vtranp{s''\checkmark}{r}\nil$
      where $P\tranp{\f{A}}{r'}P'$, $r=\frac{r'}{2}\cdot p'\cdot q$ y $s''$
      is the alternation of $s$ and $s'$. So forth
      \begin{equation}
        \label{eq:paral4}
        \tiny{
        \begin{split}
          \sum\lbag  r\ |\ P\paral Q\tranp{\f{A}}{\frac{r_1}{2}}P'\paral Q\vtranp{s''\checkmark}{r_2}\nil\y P'\tranp{\f{A}}{r_1}P' \y \\ r=\frac{r_1}{2}\cdot r_1\y s''\in\inter(s_1,s') \rbag = \\
          \sum\scaleleftright{\lbag}{\frac{r'}{2}\cdot r'' \  \vstretch{2}{|}\ P\tranp{\f{A}}{r'}P'\y P'\paral Q\vtranp{s''\checkmark}{r''}\nil\y s''\in\inter(s_1,s') }{\rbag} = \\
          \sum\scaleleftright{\lbag}{  \frac{r'}{2}\cdot\left(\underbrace{\sum \scaleleftright{\lbag}{ r''\ \vstretch{4}{|}\
                  \begin{split}
                    P'\paral Q\vtranp{s''\checkmark}{r''}\nil\y \\s''\in\inter(s_1,s')
                  \end{split}}{\rbag}}_{\mathrm{hip\acute{o}tesis\ de\ inducci\acute{o}n:}\ p_1\cdot q} \right) \ \vstretch{4}{|}\
            P\tranp{\f{A}}{r'}P'\y P'\in\calP  }{\rbag} = \\
          \sum\scaleleftright{\lbag}{  \frac{r'}{2}\cdot (p_1\cdot q) \  \vstretch{2}{|}\ P\tranp{\f{A}}{r'}P' \y P'\in\calP   }{\rbag} = \\
          \frac{(p_1\cdot q)}{2}\cdot  \sum\lbag  r'\ |\ P\tranp{\f{A}}{r'}P' \y P'\in\calP  \rbag = \\
          \frac{1}{2}(p_1\cdot q\cdot r_1)=\frac{1}{2}(p\cdot q)
        \end{split}
	    }
      \end{equation}
      The equation \ref{eq:paral4} groups all probabilities
      of alternating  $s$ and $s'$ where
      the first action of $s$ is given in first place.
      Then we have to group the probabilistic
      information when the first action of $s'$ happens in first place.

      There are two possibilities, if these actions exist or not.
      Depending on $s'$ we can obtain the following options.
      \begin{description}
      \item[$|s'|=0$]
        In this case we have $q=\sum\lbag q'\ |\ Q\tranp{\checkmark}{q'}\nil \rbag$,
        If $Q\tranp{\checkmark}{q'}\nil$, when applying
        the rule $\nombreRegla{con4}$ and then obtain
        $P\paral Q\tranp{\f{A}}{\frac{r'\cdot q'}{2}} P_1$.
        In this case we obtain
        \begin{equation}
          \label{eq:paral5}
          \begin{split}
            \sum\lbag  r\ |\  P\paral Q\tranp{\f{A}}{\frac{q'\cdot r'}{2}} P'\vtranp{s_1\checkmark}{p'}\nil\y r=p'\cdot \frac{q'\cdot r'}{2}\rbag=\\
            \sum\lbag \frac{1}{2}(p'\cdot r'\cdot q' \ |\  P\paral Q\tranp{\f{A}}{\frac{q'\cdot r'}{2}} P'\vtranp{s_1\checkmark}{p'}\nil \rbag=\\
            \sum\lbag \frac{1}{2}(p'\cdot r'\cdot (\underbrace{\sum\lbag q'\ |\ Q\tranp{\checkmark}{q'}\nil \rbag}_{q}) \ |\  P\tranp{\f{A}}{r'}P'\y P'\vtranp{s_1\checkmark}{p'}\nil \rbag=\\
            \frac{q}{2}\cdot \sum\lbag r'\cdot (\underbrace{\sum\lbag p'\ |\ P'\vtranp{s_1\checkmark}{p'}\nil \rbag}_{p_1}) \ |\  P\tranp{\f{A}}{r'}P'\y P'\in\calP \rbag=\\
            \frac{1}{2}(q\cdot p_1)\cdot(\underbrace{\sum\lbag r'\ |\ P\tranp{\f{A}}{r'}P'\y P'\in\calP \rbag}_{r_1})=\frac{1}{2}(q\cdot p_1\cdot r_1)=\frac{1}{2}(q\cdot p)
          \end{split}
        \end{equation}
        The only transition of $P\paral Q$ that allows
        to alternate $s$ and $s'$ have the form
        \begin{enumerate}
        \item $P\paral Q\tranp{\f{A}}{\frac{r'}{2}} P'\paral Q\vtranp{s''\checkmark}{p'}\nil $ as is indicated above
        , or
        \item $P\paral Q\tranp{\f{A}}{\frac{q'\cdot r'}{2}} P'\vtranp{s''\checkmark}{p'}\nil $.
        \end{enumerate}
        So forth
        \begin{equation}
          \begin{split}
            \label{eq:paral5}
            \sum\lbag  r\ |\  P\paral Q\vtran{s\checkmark}\nil\rbag =\\
            \sum\lbag  r\ |\ P\paral Q\tranp{\f{A}}{\frac{r_1}{2}}P'\paral Q\vtranp{s''\checkmark}{r_2}\nil\y P'\tranp{\f{A}}{r_1}P' \y \\ r=\frac{r_1}{2}\cdot r_1\y s''\in\inter(s_1,s') \rbag +\\
            \sum\lbag  r\ |\  P\paral Q\tranp{\f{A}}{\frac{q'\cdot r'}{2}} P'\vtranp{s_1\checkmark}{p'}\nil\y r=p'\cdot \frac{q'\cdot r'}{2}\rbag=\\
            \frac{1}{2}(p\cdot q) + \frac{1}{2}(p\cdot q)= p\cdot q
          \end{split}
        \end{equation}
       \item[$|s'|>0$] Let consider $s'=\f{B}\cdot s_2$.
        In this case we consider the alternations where
        $Q$ produces the feature $\f{B}$ in first place, which is,
        that first we apply the rule~\nombreRegla{con2}. Considering
        the multiset $\calQ=\lbag Q'\ |\ Q\tranp{\f{B}}{r}Q'\vtranp{s_2\checkmark}{q'}\nil]$, and given
        $r_2=\sum\lbag r\ |\ Q\tranp{\f{B}}{r}Q'\y Q'\in\calQ\rbag$ and $q_1=\sum\lbag r\ |\ Q'\vtranp{s_2\checkmark}{r}\nil\y Q'\in\calQ\rbag$.
        With a similar reasoning to te equations~\eqref{eq:paral1} and~\eqref{eq:paral2} we obtain that $q=r_2\cdot q_1$ and
        \begin{equation}
          \label{eq:paral6}
          \begin{split}
            \sum\lbag  r\ |\ P\paral Q\tranp{\f{B}}{\frac{r_1}{2}}P\paral Q'\vtranp{s''\checkmark}{r_2}\nil\y\\ r=\frac{r_1}{2}\cdot r_1\y s''\in\inter(s,s_2) \rbag = \frac{1}{2}(p\cdot q)
          \end{split}
        \end{equation}
        The only transition of $P\paral Q$ that implies to alternate
        $s$ and $s'$ have the form:
        \begin{enumerate}
        \item $P\paral Q\tranp{\f{A}}{p'}{\frac{r}{2}} P'\paral Q\vtranp{s''\checkmark}{p'}\nil $ where $s''$ is an alternation of
        $s_1$ and $s'$, or
        \item $P\paral Q\tranp{\f{B}}{q'}{\frac{r}{2}} P\paral Q'\vtranp{s''\checkmark}{p'}\nil $ where $s''$ is an alternation of
        $s$ and $s_2$,
        \end{enumerate}
        So forth,
        \begin{equation}
          \label{eq:paral7}
          \begin{split}
            \sum\lbag  r\ |\  P\paral Q\vtran{s\checkmark}\nil\rbag =\\
            \sum\lbag  r\ |\ P\paral Q\tranp{\f{A}}{\frac{r_1}{2}}P'\paral Q\vtranp{s''\checkmark}{r_2}\nil\y P'\tranp{\f{A}}{r_1}P' \y\\ r=\frac{r_1}{2}\cdot r_1\y s''\in\inter(s_1,s') \rbag + \\
            \sum\lbag  r\ |\ P\paral Q\tranp{\f{B}}{\frac{r_1}{2}}P\paral Q'\vtranp{s''\checkmark}{r_2}\nil\y Q'\tranp{\f{B}}{r_1}Q' \y\\ r=\frac{r_1}{2}\cdot r_1\y s''\in\inter(s,s_2) \rbag = \\
            \frac{1}{2}(p\cdot q) + \frac{1}{2}(p\cdot q)= p\cdot q
          \end{split}
        \end{equation}
      \end{description}
    \end{description}
\end{proof}
\elem

\blem\label{lem:mand}
  Given$P\in\fodaPAp$, $\feature{A}\in\calF$ and $P\vtranp{s\checkmark}{p}\nil$.
  \begin{enumerate}
  \item $\f{A}\in s$ if and only if $\mandatory{A}{P}\vtranp{s\checkmark}{p}\nil$.
  \item $\f{A}\not\in s$ if and only if $\mandatory{A}{P}\vtranp{s\f{A}\checkmark}{p}\nil$.
  \end{enumerate}
  \begin{proof}
    In both cases the demonstration is made by induction of th length
    of $|s|$.
    \lcomen{I think it is trivial, is it necessary to write it in detail.}
  \end{proof}
\elem


\blem\label{lem:forb}
  Given $P\in\fodaPAp$, $\feature{A}\in\calF$, $s\in\calF^*$ and
  $p\in(0,1)$. $P\vtranp{s\checkmark}{p}\nil$, if and only if
  $\forbid{P}{A}\vtranp{s\checkmark}{p}\nil$ y $\f{A}\not\in s$.
  \begin{proof}
    The demonstration is simple by the induction on the length of $s$.
  \end{proof}
\elem


\blem\label{lem:req}
  Given $P\in\fodaPAp$, $\feature{A},\feature{B}\in\calF$, $s\in\calF^*$
  and $p\in(0,1)$. Then $P\vtranp{s\checkmark}{p}\nil$ if and only if
  $\require{A}{B}{P}\vtranp{s'\checkmark}p\nil$ y
  $s'$ and it has some of the forms:
  $\f{A}\not\in s$ and $s'=s$, $\f{B}\in s$ y $s'=s$, or
  $\f{A}\in s$, $\f{B}\not\in s$ y $s'=s\cdot\f{B}$.
  \begin{proof}
    By induction of the length of $s$.
    \begin{description}
    \item[$|s|=0$] In this case $P\tranp{\checkmark}{p}\nil$.
    We obtain the result applying the rule~\nombreRegla{req3}.
    \item[$|s|>0$] Now we can distinguish three cases depending on
    the first feature of $s$:
      \begin{description}
      \item[$s=\f{A}s_1$.] In this case exists $p_1,q\in(0,1)$ such as
        $P\tranp{\f{A}}{p_1}P_1\vtranp{s_1\checkmark}{q}\nil$.  When
        applying the rule~\nombreRegla{req2} we obtain
        $\require{A}{B}{P}\tranp{\f{A}}{p_1}\mandatory{B}{P_1}$.
        We obtain the result when applying the lemma~\ref{lem:mand}.
      \item[$s=\f{B}s_1$.] In this case exists $p_1,q\in(0,1)$ such as
        $P\tranp{\f{A}}{p_1}P_1\vtranp{s_1\checkmark}{q}\nil$.
        When applying the rule~\nombreRegla{req2} we obtain
        $\require{A}{B}{P}\tranp{\f{B}}{p_1}\mandatory{A}{P_1}$.
        We obtain the result when applying the lemma~\ref{lem:mand}.
      \item[$s=\f{C}s_1$ con $\f{C}\neq\f{A}$ y $\f{C}\neq\f{A}$.]
        In this case exists $p_1,q\in(0,1)$ such as
        $P\tranp{\f{C}}{p_1}P_1\vtranp{s_1\checkmark}{q}\nil$.
        When applying the rule~\nombreRegla{req1}, we obtain
        $ \require{A}{B}{P}\tranp{\f{C}}{p_1}\require{A}{B}{P_1} $, and
        then the result of applying the inductive hypothesis over
        $s_1$.
      \end{description}
    \end{description}
  \end{proof}
\elem


\blem\label{lem:excl}
  Given$P\in\fodaPAp$, $\feature{A},\feature{B}\in\calF$, $s\in\calF^*$ and
  $p\in(0,1)$. Then $P\vtran{s\checkmark}{p}\nil$ if and only if
  $\exclude{A}{B}{P}\vtranp{s\checkmark}{p}\nil$, $\f{A}\not\in s$ and $\f{B}\not\in s$.
  \begin{proof}
    By the induction of the length of $s$.
    \begin{description}
    \item[$|s|=0$] In this case $P\tranp{\checkmark}{p}\nil$.
      We obtain the result of applying the rule~\nombreRegla{excl4}.
    \item[$|s|>0$] Now it is possible to distinguish three cases depending
    on the first feature of $s$:
      \begin{description}
      \item[$s=\f{A}s_1$.] In this case exists $p_1,q\in(0,1)$
        such that $P\tranp{\f{A}}{p_1}P_1\vtranp{s_1\checkmark}{q}\nil$.
        When applyinght rule~\nombreRegla{req2}
        we obtain $\require{A}{B}{P}\tranp{\f{A}}{p_1}\forbid{B}{P_1}$.
        Now based on the proposition~\ref{prop:mand1},
        \begin{itemize}
        \item $\f{B}\in s_1$ if and only if $\mandatory{B}{P_1}\vtranp{s_1\cdot \checkmark}{q}\nil$.
        \item $\f{B}\not\in s_1$ if and only if  $\mandatory{B}{P_1}\vtranp{s_1\f{B}\checkmark}{q}\nil$.
        \end{itemize}
      \item[$s=\f{C}s_1$ with $\f{C}\neq\f{A}$.]
        In this case is $p_1,q\in(0,1)$
        such that $P\tranp{\f{C}}{p_1}P_1\vtranp{s_1\checkmark}{q}\nil$.
        When applying rule~\nombreRegla{req1},  we obtain
        $
        \require{A}{B}{P}\tranp{\f{C}}{p_1}\require{A}{B}{P_1}
        $, and then the result is obtained when applying the inductive
        hypothesis over $s_1$.
      \end{description}
    \end{description}
      \end{proof}
\elem

\section{Proofs of Section~\ref{sec:stat:hid}}\label{appendixB}

\bprop\label{prop:appendixB}
  $P\hide\calA\vtran{s}_rQ$ if and only if $r=\sum\lbag p \ |\ P\vtran{s'}_p Q,\
  s=s'\hide\calA\rbag$
  \begin{proof}
    The proof is achieved by induction over the length of the trace
    $s$. If the length is zero the result is trivial. Then its supposed that
    $s=\fA\cdot s_1$. Si $\fA=bot$ then any transition
    $P\hideA\tran{s}{p}Q\hideA$ can be divided in transitions,
    possibly more than one, for example.
    \begin{displaymath}
      P\hideA\tran{\bot}_{r_1}P_1\hideA\vtran{s_1}_{r2}Q
    \end{displaymath}
    then we have
    \begin{displaymath}
      \begin{split}
        r = \sum\lbag p\ |\ P\hideA\vtran{s}_p Q\rbag =
        \sum\lbag r_1\cdot r2\ |\
        P\hideA\tran{\bot}_{r_1}P_1\hideA\vtran{s_1}_{r2}Q\rbag =\\
        \sum\lbag r_1'\cdot r2\ |\
        P\hideA\tran{\fB}_{r_1'}P_1'\hideA\vtran{s_1}_{r2}Q,\ \fB\in\calA\rbag
      \end{split}
    \end{displaymath}
    Now for each one of $r_1'$, we can apply the inductive
    method to each one of the transitions
    $P_1'\hideA\vtran{s_1}_{r2}Q$ to obtain
    $r_2=\sum\lbag r2'\ |\ P_1=\vtran{s_1'}Q,\
    s_1=s_1'\hideA\rbag$. COntinuing the last equation:
    \begin{displaymath}
      \begin{split}
        \sum\lbag r_1'\cdot r2\ |\
        P\hideA\tran{\fB}_{r_1'}P_1'\hideA\vtran{s_1}_{r2}Q,\
        \fB\in\calA\rbag=\\
        \sum\lbag r_1'\cdot r2'\ |\ P\hideA\tran{\fB}_{r_1'}P_1'\vtran{s_1'}_{r2'}Q,\
        \fB\in\calA.\ s_1=s_1'\hideA\rbag = \\
        \sum\lbag r_1\cdot r2'\ |\ P\hideA\tran{\bot}_{r_1}P_1\vtran{s_1'}_{r2'}Q,\
        \fB\in\calA.\ s_1=s_1'\hideA\rbag =\\
        \sum\lbag r\ |\ P\vtran{s'}_{r}Q,\ s=s'\hideA\rbag
      \end{split}
    \end{displaymath}
    The case when $\fA\not\in\calA$ is similar to the last one,
    we just the to skip the step from $\fB$ to $\bot$.
  \end{proof}
\eprop


\paragraph{Proof of Proposition~\ref{prop:hid}}\label{prof:prop:hid}
     $(pr,p)\in \prodp(P\hideA)$ if and only if
    \begin{displaymath}
      \begin{split}
        p = \sum\lbag r\ |\
        P\hideA\vtran{s\checkmark}_rP'\hideA.\ pr=\product{s}\rbag =\\
        \sum\lbag r\ |\ P\vtran{s'\checkmark}_rP',\ s=s'\hideA,\
        pr=\product{s}\rbag=\\
        \sum\lbag r\ |\ P\vtran{s'\checkmark}_rP',\ s=pr\hideA\rbag =
        \\
        \sum\lbag r\ |\ (pr',r)\in\prodp(P),\ pr'=pr\hideA\rbag =
      \end{split}
    \end{displaymath}
    Such that $(pr,p)\in\prodp(P\hideA)$ if and only if
    $(pr,p)\in\semdenp{(\prodp(P))\hideA}$



%%% Local Variables:
%%% mode: latex
%%% TeX-master: "main"
%%% End:

